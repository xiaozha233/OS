# **Lab2: 物理内存管理与页表 实验报告**

**小组成员:** 

| 姓名  | 学号      | 任务分工        |
| :-- | :------ | :---------- |
| 陈翔  | 2314035 | 完成练习1解答     |
| 查许琴 | 2314076 | 完成练习2解答     |
| 刘璇  | 2313255 | 完成实验知识点总结内容 |

**实验日期:** 2025年10月

## **一、 实验目的与内容概述**

### **1.1 实验目的** 

本次实验的核心目标是深入理解并亲手实现操作系统的物理内存管理。具体目的包括：
1.  **理解页表的建立和使用方法**：掌握如何通过构建页表，实现从虚拟地址到物理地址的映射，为现代操作系统的内存隔离与虚拟化打下基础。
2.  **理解物理内存的管理方法**：学习操作系统如何探测、组织和追踪物理内存资源，特别是以页为单位的管理方式。
3.  **理解页面分配算法**：通过分析和实现 First-Fit 及 Best-Fit 算法，掌握连续物理内存分配的核心策略与权衡。

### **1.2 实验内容** 

本实验在 `lab1` 可启动系统的基础上，重点实现了物理内存管理模块（PMM）。主要内容分为两大块：

1.  **建立分页机制**：修改内核的启动流程 (`entry.S`)，通过创建一个临时的启动页表，将内核自身映射到高虚拟地址空间，并成功开启 MMU 的分页模式。这使得内核后续可以在虚拟地址空间中运行。
2.  **实现物理内存分配**：设计并实现了一个物理内存管理器，它能够：
    *   探测可用的物理内存范围。
    *   使用 `struct Page` 数组来描述和管理所有物理页。
    *   通过链表来组织空闲的物理内存块。
    *   实现并测试了 First-Fit 和 Best-Fit 两种经典的连续内存分配算法。

## **二、 练习解答**

### **练习1：理解 first-fit 连续物理内存分配算法（思考题）**

#### **1. 物理内存分配过程与函数作用分析**



#### **2. First-Fit 算法的改进空间** 



### **练习2：实现 Best-Fit 连续物理内存分配算法（需要编程）**

#### **1. 设计实现过程**



#### **2. 阐述代码如何分配和释放物理内存**



#### **3. Best-Fit 算法的改进空间** `[S26]`



## **三、 实验知识点理解**

#### **1. 实验中重要的知识点与OS原理的对应**



#### **2. OS 原理中很重要但在实验中未体现的知识点**


## **四、 总结**

